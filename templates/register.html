<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Register - CoverComposer</title>
  <link rel="stylesheet" href="/static/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* --- FORCE PERFECT CENTER --- */
    body {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .container {
      margin: 0;
    }

    /* --- ANIMATED BUTTONS --- */
    .btn-signup {
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      border: none;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      color: black;
      background: linear-gradient(120deg, #1db954, #1ed760, #1db954);
      background-size: 200% auto;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
      animation: gradient-move 4s linear infinite;
    }

    .btn-signup:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(29, 185, 84, 0.5);
    }

    @keyframes gradient-move {
      to {
        background-position: 200% center;
      }
    }

    .btn-login-link {
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      background: transparent;
      border: 2px solid var(--green);
      color: var(--green);
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .btn-login-link:hover {
      background: var(--green);
      color: black;
      box-shadow: 0 6px 20px rgba(29, 185, 84, 0.4);
      transform: translateY(-2px);
    }
  </style>
</head>

<body class="dark">

<div class="theme-toggle" id="themeToggle" style="top: 28px;">ðŸŒ™</div>

<div class="container page-enter">
  <div class="card">

    <div class="brand small" style="position:static; margin-bottom: 20px;">
      <span class="logo-text">CoverComposer</span>
    </div>

    <h2 class="headline">Create Account</h2>
    <p class="subtitle">Start your AI music journey</p>

    <!-- Message Box -->
    <div id="messageBox"
         style="color:#ff5555; margin-bottom:15px; font-size:14px; display:none;"></div>

    <!-- Register Form -->
    <form action="/register" method="post"
          style="display:flex; flex-direction:column; gap:14px;">

      <div>
        <label>ðŸ‘¤ Choose Username</label>
        <input type="text" name="username" required
               placeholder="Pick a unique username">
      </div>

      <div>
        <label>ðŸ”’ Choose Password</label>
        <input type="password" name="password" required
               placeholder="Pick a strong password">
      </div>

      <button class="btn-signup" style="margin-top:12px;">
        <i class="fas fa-user-plus"></i> Sign Up
      </button>
    </form>

    <!-- Divider -->
    <div style="display:flex; align-items:center; gap:10px; margin:22px 0; opacity:0.5;">
      <div style="flex:1; height:1px; background:currentColor;"></div>
      <span style="font-size:12px;">OR</span>
      <div style="flex:1; height:1px; background:currentColor;"></div>
    </div>

    <!-- Login Button -->
    <a href="/login" style="text-decoration:none;">
      <button class="btn-login-link">
        <i class="fas fa-right-to-bracket"></i> Login Instead
      </button>
    </a>

  </div>
</div>

<script>
  // Handle Messages
  const params = new URLSearchParams(window.location.search);
  const msgBox = document.getElementById('messageBox');

  if (params.has('error')) {
    msgBox.textContent = params.get('error');
    msgBox.style.display = 'block';
  }

  // Theme Toggle Logic
  const savedTheme = localStorage.getItem('theme') || 'dark';
  document.body.className = savedTheme;
  const toggle = document.getElementById("themeToggle");
  toggle.textContent = savedTheme === 'dark' ? "ðŸŒ™" : "â˜€";

  toggle.onclick = () => {
    const isDark = document.body.classList.contains('dark');
    if (isDark) {
      document.body.classList.replace('dark', 'light');
      localStorage.setItem('theme', 'light');
      toggle.textContent = "â˜€";
    } else {
      document.body.classList.replace('light', 'dark');
      localStorage.setItem('theme', 'dark');
      toggle.textContent = "ðŸŒ™";
    }
  };
</script>

</body>
</html>