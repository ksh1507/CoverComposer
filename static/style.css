:root {
  --green: #1db954;
  --dark-bg: radial-gradient(circle at 50% -20%, #2a2a2a, #000000);
  --light-bg: linear-gradient(135deg, #f7f7f7, #eaeaea);
  --dark-card: rgba(30, 30, 30, 0.6);
  --light-card: #ffffff;
}

/* FUTURISTIC GRID BG */
body.dark::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-image:
    linear-gradient(rgba(29, 185, 84, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(29, 185, 84, 0.1) 1px, transparent 1px);
  background-size: 50px 50px;
  background-position: center;
  z-index: -1;
  pointer-events: none;
  mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
  -webkit-mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
}

/* Base */
* {
  box-sizing: border-box;
  font-family: "Segoe UI", sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  transition: background 0.6s, color 0.6s;
}

body.dark {
  background: var(--dark-bg);
  color: white;
}

body.light {
  background: var(--light-bg);
  color: black;
}

/* --- FORM INPUTS FIX (THE NUCLEAR OPTION) --- */
/* This forces inputs to be dark grey with white text in Dark Mode */
body.dark select,
body.dark input {
  background-color: #2c2c3f !important;
  /* Solid Dark Grey */
  color: #ffffff !important;
  /* Solid White Text */
  border: 1px solid #555 !important;
  padding: 12px;
  border-radius: 10px;
  width: 100%;
  appearance: none;
  /* Removes default browser styling */
  -webkit-appearance: none;
  -moz-appearance: none;
}

/* This fixes the "Invisible Options" in the dropdown list */
body.dark option {
  background-color: #2c2c3f !important;
  color: #ffffff !important;
}

/* Light Mode Inputs */
body.light select,
body.light input {
  background-color: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #ccc !important;
  padding: 12px;
  border-radius: 10px;
  width: 100%;
}

/* ------------------------------------------- */

/* --- MIDI PLAYER OVERRIDES --- */
body.dark midi-player {
  --background-color: #2c2c3f !important;
  --text-color: #ffffff !important;
  --secondary-text-color: #dddddd !important;
  --fill-color: var(--green) !important;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark midi-player::part(control-panel) {
  background: #2c2c3f;
  color: #ffffff;
}

body.dark midi-player::part(time) {
  color: #ffffff !important;
}

/* ------------------------------------------- */

/* ========== MAIN CONTAINER ========== */
/* Enforces centered layout with constrained width */
.container {
  width: 100%;
  max-width: 500px;
  /* Consistently narrow width - updated to match login card look */
  margin: 0 auto;
  padding: 0 20px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 24px;
}

/* Page entrance animation */
.page-enter {
  animation: page-slide-up 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
}

@keyframes page-slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Ensure cards inside container look consistent */
.card {
  background: var(--dark-card);
  padding: 24px;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: transform 0.3s, box-shadow 0.3s;
}

body.light .card {
  background: var(--light-card);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

/* ------------------------------------------- */

/* Top bar */
/* Top bar */
.topbar {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px 20px 10px 20px;
  position: relative;
  gap: 15px;
  max-width: 500px;
  /* Match container width */
  margin: 0 auto;
  background: transparent;
}

.theme-toggle {
  cursor: pointer;
  font-size: 22px;
  position: absolute;
  left: 28px;
  top: 25px;
  z-index: 10;
}

/* ========== BRAND / LOGO ========== */
.brand {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
  padding: 10px;
  z-index: 5;
}

.brand.small {
  margin-bottom: 10px;
  transform: scale(0.9);
}

.logo-text {
  font-size: 42px;
  font-weight: 800;
  letter-spacing: -1px;
  /* Premium gradient with shine effect */
  background: linear-gradient(120deg, #ffffff 0%, #e0e0e0 20%, var(--green) 50%, #e0e0e0 80%, #ffffff 100%);
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  position: relative;
  z-index: 2;
  text-shadow: 0 4px 24px rgba(29, 185, 84, 0.2);

  /* Entrance and Loop Animations */
  animation:
    text-enter 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards,
    shine 8s linear infinite;
}

body.light .logo-text {
  background: linear-gradient(120deg, #000000 0%, #333333 20%, var(--green) 50%, #333333 80%, #000000 100%);
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

@keyframes text-enter {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.9);
    filter: blur(10px);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes shine {
  to {
    background-position: 200% center;
  }
}

.logo-glow {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 120%;
  height: 60%;
  background: radial-gradient(circle, rgba(29, 185, 84, 0.4) 0%, rgba(29, 185, 84, 0) 70%);
  filter: blur(20px);
  z-index: 1;
  opacity: 0.6;
  animation: glow-pulse 3s infinite alternate;
}

@keyframes glow-pulse {
  0% {
    opacity: 0.4;
    transform: translate(-50%, -50%) scale(0.95);
  }

  100% {
    opacity: 0.7;
    transform: translate(-50%, -50%) scale(1.05);
  }
}


/* ========== HEADLINE & SUBTITLE ========== */
.headline {
  text-align: center;
  font-size: 32px;
  font-weight: 700;
  margin: 0 0 10px 0;
  color: white;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

body.light .headline {
  color: black;
}

.subtitle {
  text-align: center;
  font-size: 16px;
  color: rgba(255, 255, 255, 0.7);
  margin: 0 0 30px 0;
}

body.light .subtitle {
  color: rgba(0, 0, 0, 0.7);
}

/* ========== NAVIGATION MENU ========== */

.nav-menu {
  position: relative;
  right: auto;
  display: inline-flex;
  gap: 8px;
  align-items: center;
  background: rgba(255, 255, 255, 0.05);
  /* Subtle container background */
  padding: 5px;
  border-radius: 30px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

body.light .nav-menu {
  background: rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(0, 0, 0, 0.05);
}

.nav-link {
  color: inherit;
  text-decoration: none;
  font-size: 13px;
  font-weight: 600;
  padding: 8px 18px;
  border-radius: 24px;
  transition: all 0.3s;
  display: flex;
  align-items: center;
  gap: 6px;
  opacity: 0.7;
}

.nav-link:hover {
  background: rgba(29, 185, 84, 0.1);
  color: var(--green);
  opacity: 1;
}

.nav-link.active {
  background: var(--green);
  color: black;
  opacity: 1;
  box-shadow: 0 4px 12px rgba(29, 185, 84, 0.3);
}


/* ========== DASHBOARD CONTAINER ========== */
.dashboard-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 30px 20px;
}

/* ========== STATS GRID ========== */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.stat-card {
  background: var(--dark-card);
  padding: 24px;
  border-radius: 16px;
  display: flex;
  align-items: center;
  gap: 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: transform 0.3s, box-shadow 0.3s;
}

body.light .stat-card {
  background: var(--light-card);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
}

.stat-icon {
  width: 60px;
  height: 60px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  color: white;
}

.stat-content {
  flex: 1;
}

.stat-value {
  font-size: 32px;
  font-weight: 700;
  line-height: 1;
  margin-bottom: 4px;
}

.stat-label {
  font-size: 13px;
  opacity: 0.7;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* ========== CHARTS GRID ========== */
.charts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.chart-card {
  background: var(--dark-card);
  padding: 24px;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

body.light .chart-card {
  background: var(--light-card);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.chart-title {
  font-size: 16px;
  font-weight: 600;
  margin: 0 0 20px 0;
  display: flex;
  align-items: center;
  gap: 8px;
  opacity: 0.9;
}

/* Activity Chart */
.activity-chart {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  height: 150px;
  gap: 8px;
}

.activity-bar-wrapper {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.activity-bar {
  width: 100%;
  background: linear-gradient(180deg, var(--green), #0d7a3a);
  border-radius: 6px 6px 0 0;
  min-height: 4px;
  transition: all 0.3s;
  position: relative;
}

.activity-bar:hover {
  filter: brightness(1.2);
}

.activity-bar:hover::after {
  content: attr(data-count);
  position: absolute;
  top: -25px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  white-space: nowrap;
}

.activity-label {
  font-size: 11px;
  opacity: 0.6;
}

/* Genre List */
.genre-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.genre-item {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.genre-info {
  display: flex;
  justify-content: space-between;
  font-size: 14px;
}

.genre-name {
  font-weight: 600;
}

.genre-count {
  opacity: 0.6;
  font-size: 12px;
}

.genre-bar-bg {
  height: 8px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  overflow: hidden;
}

body.light .genre-bar-bg {
  background: rgba(0, 0, 0, 0.1);
}

.genre-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--green), #0d7a3a);
  border-radius: 4px;
  transition: width 0.5s ease;
}

/* Mood Grid */
.mood-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.mood-badge {
  background: rgba(255, 255, 255, 0.05);
  padding: 16px;
  border-radius: 12px;
  text-align: center;
  transition: all 0.3s;
}

body.light .mood-badge {
  background: rgba(0, 0, 0, 0.05);
}

.mood-badge:hover {
  background: rgba(29, 185, 84, 0.1);
  transform: scale(1.05);
}

.mood-emoji {
  font-size: 32px;
  margin-bottom: 8px;
}

.mood-name {
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 4px;
}

.mood-count {
  font-size: 20px;
  font-weight: 700;
  color: var(--green);
}

/* ========== TRACKS SECTION ========== */
.tracks-section {
  margin-top: 40px;
}

.section-title {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.tracks-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 20px;
}

.track-card {
  background: var(--dark-card);
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: all 0.3s;
  position: relative;
}

body.light .track-card {
  background: var(--light-card);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.track-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
}

.track-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.track-mood-badge {
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.mood-happy {
  background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
  color: white;
}

.mood-sad {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}

.mood-energetic {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
}

.mood-calm {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  color: white;
}

.favorite-btn {
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  color: #888;
  transition: all 0.3s;
  padding: 4px;
}

.favorite-btn:hover {
  color: #ff4444;
  transform: scale(1.2);
}

.favorite-btn.active {
  color: #ff4444;
}

.track-info {
  margin-bottom: 12px;
}

.track-title {
  font-size: 16px;
  font-weight: 600;
  margin: 0 0 8px 0;
}

.track-meta {
  font-size: 12px;
  opacity: 0.7;
  margin: 4px 0;
}

.track-rating {
  display: flex;
  gap: 4px;
  margin-bottom: 12px;
  font-size: 16px;
}

.track-rating i {
  cursor: pointer;
  transition: all 0.2s;
  color: #ffd700;
}

.track-rating i:hover {
  transform: scale(1.2);
}

.track-rating i.far {
  color: #555;
}

body.light .track-rating i.far {
  color: #ccc;
}

.track-player {
  width: 100%;
  margin-bottom: 12px;
  border-radius: 8px;
}

.track-actions {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
}

.track-btn {
  flex: 1;
  padding: 8px 12px;
  border-radius: 8px;
  border: none;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  text-decoration: none;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
}

.track-btn.primary {
  background: var(--green);
  color: black;
}

.track-btn.primary:hover {
  background: #1ed760;
  transform: translateY(-2px);
}

.track-btn.secondary {
  background: transparent;
  border: 1px solid var(--green);
  color: var(--green);
}

.track-btn.secondary:hover {
  background: rgba(29, 185, 84, 0.1);
}

.track-btn.danger {
  background: transparent;
  border: 1px solid #ff4444;
  color: #ff4444;
}

.track-btn.danger:hover {
  background: rgba(255, 68, 68, 0.1);
}

.lyrics-details {
  margin-top: 12px;
  padding: 12px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
}

body.light .lyrics-details {
  background: rgba(0, 0, 0, 0.05);
}

.lyrics-details summary {
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
}

.lyrics-content {
  margin-top: 12px;
  font-size: 13px;
  line-height: 1.6;
  white-space: pre-line;
  opacity: 0.8;
  font-style: italic;
}

.empty-state {
  text-align: center;
  padding: 60px 20px;
  opacity: 0.6;
}

.empty-state a {
  color: var(--green);
  text-decoration: none;
  font-weight: 600;
}

/* ========== PROFILE CONTAINER ========== */
.profile-container {
  max-width: 900px;
  margin: 0 auto;
  padding: 30px 20px;
}

.profile-header {
  background: var(--dark-card);
  padding: 40px;
  border-radius: 20px;
  display: flex;
  align-items: center;
  gap: 30px;
  margin-bottom: 30px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

body.light .profile-header {
  background: var(--light-card);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.profile-avatar {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 48px;
  font-weight: 700;
  color: white;
  flex-shrink: 0;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.avatar-initial {
  text-transform: uppercase;
}

.profile-info {
  flex: 1;
}

.profile-username {
  font-size: 32px;
  font-weight: 700;
  margin: 0 0 8px 0;
}

.profile-bio {
  font-size: 16px;
  opacity: 0.8;
  margin: 0 0 16px 0;
}

.profile-stats {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
}

.profile-stat {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  opacity: 0.7;
}

.profile-section {
  background: var(--dark-card);
  padding: 30px;
  border-radius: 20px;
  margin-bottom: 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

body.light .profile-section {
  background: var(--light-card);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.profile-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form-group label {
  font-size: 14px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
}

.form-group textarea {
  background-color: #2c2c3f;
  color: #ffffff;
  border: 1px solid #555;
  padding: 12px;
  border-radius: 10px;
  width: 100%;
  font-family: inherit;
  resize: vertical;
}

body.light .form-group textarea {
  background-color: #ffffff;
  color: #000000;
  border: 1px solid #ccc;
}

.color-picker {
  display: flex;
  align-items: center;
  gap: 12px;
}

.color-picker input[type="color"] {
  width: 60px;
  height: 40px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.color-preview {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  border: 2px solid rgba(255, 255, 255, 0.2);
}

.color-value {
  font-family: monospace;
  font-size: 14px;
  opacity: 0.7;
}

.stats-grid-profile {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 16px;
}

.stat-card-profile {
  background: rgba(255, 255, 255, 0.05);
  padding: 20px;
  border-radius: 12px;
  text-align: center;
  transition: all 0.3s;
}

body.light .stat-card-profile {
  background: rgba(0, 0, 0, 0.05);
}

.stat-card-profile:hover {
  background: rgba(29, 185, 84, 0.1);
  transform: translateY(-4px);
}

.stat-icon-profile {
  font-size: 32px;
  margin-bottom: 8px;
}

.stat-number {
  font-size: 28px;
  font-weight: 700;
  color: var(--green);
  margin-bottom: 4px;
}

.stat-text {
  font-size: 12px;
  opacity: 0.7;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.quick-actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

.action-card {
  background: rgba(255, 255, 255, 0.05);
  padding: 24px;
  border-radius: 12px;
  text-align: center;
  text-decoration: none;
  color: inherit;
  transition: all 0.3s;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

body.light .action-card {
  background: rgba(0, 0, 0, 0.05);
}

.action-card:hover {
  background: rgba(29, 185, 84, 0.1);
  transform: translateY(-4px);
}

.action-card.danger:hover {
  background: rgba(255, 68, 68, 0.1);
  color: #ff4444;
}

.action-card i {
  font-size: 32px;
}

.achievements-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 16px;
}

.achievement {
  background: rgba(255, 255, 255, 0.05);
  padding: 20px;
  border-radius: 12px;
  text-align: center;
  transition: all 0.3s;
  opacity: 0.4;
}

body.light .achievement {
  background: rgba(0, 0, 0, 0.05);
}

.achievement.unlocked {
  opacity: 1;
  background: rgba(29, 185, 84, 0.1);
}

.achievement.unlocked:hover {
  transform: translateY(-4px);
}

.achievement-icon {
  font-size: 40px;
  margin-bottom: 8px;
}

.achievement-name {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 4px;
}

.achievement-desc {
  font-size: 11px;
  opacity: 0.7;
}

/* ========== RESPONSIVE ========== */
@media (max-width: 768px) {
  .nav-menu {
    position: static;
    flex-direction: column;
    gap: 8px;
    margin-top: 20px;
  }

  .topbar {
    flex-direction: column;
  }

  .profile-header {
    flex-direction: column;
    text-align: center;
  }

  .stats-grid {
    grid-template-columns: 1fr;
  }

  .charts-grid {
    grid-template-columns: 1fr;
  }

  .tracks-grid {
    grid-template-columns: 1fr;
  }
}

/* ========== MUSICOLOGIST AI INSIGHT ========== */
.musicologist-card {
  background: linear-gradient(135deg, rgba(29, 185, 84, 0.15) 0%, rgba(20, 20, 20, 0.8) 100%);
  border: 1px solid rgba(29, 185, 84, 0.3);
  border-left: 4px solid var(--green);
  padding: 20px;
  border-radius: 12px;
  margin-bottom: 24px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  transition: transform 0.3s ease;
}

.musicologist-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at top right, rgba(255, 255, 255, 0.05), transparent 60%);
  pointer-events: none;
}

.musicologist-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(29, 185, 84, 0.15);
}

.musicologist-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
  color: var(--green);
}

.musicologist-title {
  font-size: 14px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.musicologist-text {
  font-size: 14px;
  line-height: 1.6;
  opacity: 0.9;
  margin: 0;
  font-style: italic;
  color: #e0e0e0;
}

.icon-pulse {
  display: flex;
  align-items: center;
  justify-content: center;
  animation: pulse-brain 2s infinite ease-in-out;
}

@keyframes pulse-brain {
  0% {
    transform: scale(1);
    opacity: 0.8;
  }

  50% {
    transform: scale(1.1);
    opacity: 1;
    text-shadow: 0 0 10px var(--green);
  }

  100% {
    transform: scale(1);
    opacity: 0.8;
  }
}

/* ========== LYRICS CARD ========== */
/* ========== LYRICS CARD ========== */
.lyrics-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  text-align: center;
}

.lyrics-header {
  font-size: 12px;
  font-weight: 700;
  color: #888;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.lyrics-text {
  font-family: 'Georgia', serif;
  font-size: 16px;
  line-height: 1.8;
  color: #fff;
  white-space: pre-line;
  margin: 0;
  font-style: italic;
  opacity: 0.9;
}

/* --- HACKER TERMINAL LOADER --- */
.terminal-loader {
  display: none;
  background: rgba(0, 0, 0, 0.9);
  border: 1px solid #333;
  padding: 20px;
  border-radius: 8px;
  font-family: 'Courier New', Courier, monospace;
  color: var(--green);
  text-align: left;
  margin-top: 20px;
  box-shadow: 0 0 20px rgba(0, 255, 0, 0.1);
  height: 150px;
  overflow-y: auto;
  font-size: 13px;
}

.terminal-line {
  margin: 5px 0;
  opacity: 0;
  animation: fadeIn 0.1s forwards;
}

.terminal-cursor::after {
  content: '_';
  animation: blink 1s infinite;
}

@keyframes blink {
  50% {
    opacity: 0;
  }
}

@keyframes fadeIn {
  to {
    opacity: 1;
  }
}

/* --- AUDIO VISUALIZER --- */
.visualizer-container {
  width: 100%;
  height: 120px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 12px;
  margin-bottom: 20px;
  overflow: hidden;
  position: relative;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.visualizer-canvas {
  width: 100%;
  height: 100%;
  display: block;
}

/* 2D MOOD PAD (Optional - for future) */
.mood-pad-container {
  width: 100%;
  height: 200px;
  background: #222;
  border-radius: 12px;
  position: relative;
  cursor: crosshair;
  margin-bottom: 15px;
  border: 1px solid #444;
}

/* --- MOOD CHIPS --- */
.mood-chips {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.mood-chip {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s;
}

.mood-chip:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.mood-chip.active {
  background: var(--green);
  color: black;
  font-weight: bold;
  box-shadow: 0 4px 12px rgba(29, 185, 84, 0.3);
  border-color: var(--green);
}

body.light .mood-chip {
  background: rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(0, 0, 0, 0.1);
  color: #333;
}

body.light .mood-chip.active {
  color: black;
}

/* --- MODERN ORB LOADER --- */
.orb-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 200px;
  position: relative;
  margin-top: 30px;
}

.orb {
  width: 60px;
  height: 60px;
  background: radial-gradient(circle at 30% 30%, #4aff95, #1db954);
  border-radius: 50%;
  box-shadow: 0 0 30px #1db954, 0 0 60px #1db954;
  animation: pulse-orb 2s ease-in-out infinite;
  z-index: 2;
}

.orb-ring {
  position: absolute;
  width: 100px;
  height: 100px;
  border: 2px solid rgba(29, 185, 84, 0.3);
  border-radius: 50%;
  top: 50px;
  /* Center with orb */
  animation: spin-ring 4s linear infinite;
}

.orb-ring::before {
  content: '';
  position: absolute;
  top: -5px;
  left: 50%;
  width: 10px;
  height: 10px;
  background: var(--green);
  border-radius: 50%;
  box-shadow: 0 0 10px var(--green);
}

.loading-text {
  margin-top: 40px;
  font-size: 14px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.8);
  transition: opacity 0.5s;
  font-weight: 600;
  text-shadow: 0 0 10px rgba(29, 185, 84, 0.5);
}

@keyframes pulse-orb {

  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }

  50% {
    transform: scale(1.1);
    opacity: 0.8;
  }
}

@keyframes spin-ring {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/* --- GLASSMORPHISM CARDS --- */
.card {
  background: rgba(255, 255, 255, 0.05) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

/* --- MODERN INPUTS --- */
.magic-textarea {
  background: rgba(0, 0, 0, 0.2) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(5px);
  color: white !important;
}

.magic-textarea:focus {
  border-color: var(--green) !important;
  box-shadow: 0 0 15px rgba(29, 185, 84, 0.2);
}

.lyrics-header {
  font-size: 12px;
  font-weight: 700;
  color: #888;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.lyrics-text {
  font-family: 'Georgia', serif;
  font-size: 16px;
  line-height: 1.8;
  color: #fff;
  white-space: pre-line;
  margin: 0;
  font-style: italic;
  opacity: 0.9;
}

/ *   - - -   H A C K E R   T E R M I N A L   L O A D E R   - - -   * /     . t e r m i n a l - l o a d e r    {
           d i s p l a y :    n o n e ;
           b a c k g r o u n d :    r g b a ( 0 ,    0 ,    0 ,    0 . 9 ) ;
           b o r d e r :    1 p x   s o l i d   # 3 3 3 ;
           p a d d i n g :    2 0 p x ;
           b o r d e r - r a d i u s :    8 p x ;
           f o n t - f a m i l y :    ' C o u r i e r   N e w '  ,    C o u r i e r ,    m o n o s p a c e ;
           c o l o r :    v a r ( - - g r e e n ) ;
           t e x t - a l i g n :    l e f t ;
           m a r g i n - t o p :    2 0 p x ;
           b o x - s h a d o w :    0   0   2 0 p x   r g b a ( 0 ,    2 5 5 ,    0 ,    0 . 1 ) ;
           h e i g h t :    1 5 0 p x ;
           o v e r f l o w - y :    a u t o ;
           f o n t - s i z e :    1 3 p x ;
       
}

         . t e r m i n a l - l i n e    {
           m a r g i n :    5 p x   0 ;
           o p a c i t y :    0 ;
           a n i m a t i o n :    f a d e I n   0 . 1 s   f o r w a r d s ;
       
}

         . t e r m i n a l - c u r s o r : : a f t e r    {
           c o n t e n t :    ' _ '  ;
           a n i m a t i o n :    b l i n k   1 s   i n f i n i t e ;
       
}

         @ k e y f r a m e s   b l i n k    {
           5 0 %    {
       o p a c i t y :    0 ;
       
  }

       
}

         @ k e y f r a m e s   f a d e I n    {
           t o    {
       o p a c i t y :    1 ;
       
  }

       
}

         / *   - - -   A U D I O   V I S U A L I Z E R   - - -   * /     . v i s u a l i z e r - c o n t a i n e r    {
           w i d t h :    1 0 0 % ;
           h e i g h t :    1 2 0 p x ;
           b a c k g r o u n d :    r g b a ( 0 ,    0 ,    0 ,    0 . 3 ) ;
           b o r d e r - r a d i u s :    1 2 p x ;
           m a r g i n - b o t t o m :    2 0 p x ;
           o v e r f l o w :    h i d d e n ;
           p o s i t i o n :    r e l a t i v e ;
           b o r d e r :    1 p x   s o l i d   r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 1 ) ;
       
}

         . v i s u a l i z e r - c a n v a s    {
           w i d t h :    1 0 0 % ;
           h e i g h t :    1 0 0 % ;
           d i s p l a y :    b l o c k ;
       
}

         / *   2 D   M O O D   P A D   ( O p t i o n a l   -   f o r   f u t u r e )   * /     . m o o d - p a d - c o n t a i n e r    {
           w i d t h :    1 0 0 % ;
           h e i g h t :    2 0 0 p x ;
           b a c k g r o u n d :    # 2 2 2 ;
           b o r d e r - r a d i u s :    1 2 p x ;
           p o s i t i o n :    r e l a t i v e ;
           c u r s o r :    c r o s s h a i r ;
           m a r g i n - b o t t o m :    1 5 p x ;
           b o r d e r :    1 p x   s o l i d   # 4 4 4 ;
       
}

     / *   - - -   M O O D   C H I P S   - - -   * /     . m o o d - c h i p s    {
           d i s p l a y :    f l e x ;
           g a p :    1 0 p x ;
           m a r g i n - b o t t o m :    2 0 p x ;
           f l e x - w r a p :    w r a p ;
       
}

         . m o o d - c h i p    {
           b a c k g r o u n d :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 1 ) ;
           b o r d e r :    1 p x   s o l i d   r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 2 ) ;
           p a d d i n g :    8 p x   1 6 p x ;
           b o r d e r - r a d i u s :    2 0 p x ;
           f o n t - s i z e :    1 4 p x ;
           c u r s o r :    p o i n t e r ;
           t r a n s i t i o n :    a l l   0 . 3 s ;
       
}

         . m o o d - c h i p : h o v e r    {
           b a c k g r o u n d :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 2 ) ;
           t r a n s f o r m :    t r a n s l a t e Y ( - 2 p x ) ;
       
}

         . m o o d - c h i p . a c t i v e    {
           b a c k g r o u n d :    v a r ( - - g r e e n ) ;
           c o l o r :    b l a c k ;
           f o n t - w e i g h t :    b o l d ;
           b o x - s h a d o w :    0   4 p x   1 2 p x   r g b a ( 2 9 ,    1 8 5 ,    8 4 ,    0 . 3 ) ;
           b o r d e r - c o l o r :    v a r ( - - g r e e n ) ;
       
}

         b o d y . l i g h t   . m o o d - c h i p    {
           b a c k g r o u n d :    r g b a ( 0 ,    0 ,    0 ,    0 . 0 5 ) ;
           b o r d e r :    1 p x   s o l i d   r g b a ( 0 ,    0 ,    0 ,    0 . 1 ) ;
           c o l o r :    # 3 3 3 ;
       
}

         b o d y . l i g h t   . m o o d - c h i p . a c t i v e    {
           c o l o r :    b l a c k ;
       
}

     / *   - - -   M O D E R N   O R B   L O A D E R   - - -   * /     . o r b - c o n t a i n e r    {
               d i s p l a y :    f l e x ;
               f l e x - d i r e c t i o n :    c o l u m n ;
               a l i g n - i t e m s :    c e n t e r ;
               j u s t i f y - c o n t e n t :    c e n t e r ;
               h e i g h t :    2 0 0 p x ;
               p o s i t i o n :    r e l a t i v e ;
               m a r g i n - t o p :    3 0 p x ;
       
}

         . o r b    {
               w i d t h :    6 0 p x ;
               h e i g h t :    6 0 p x ;
               b a c k g r o u n d :    r a d i a l - g r a d i e n t ( c i r c l e   a t   3 0 %   3 0 % ,    # 4 a f f 9 5 ,    # 1 d b 9 5 4 ) ;
               b o r d e r - r a d i u s :    5 0 % ;
               b o x - s h a d o w :    0   0   3 0 p x   # 1 d b 9 5 4 ,    0   0   6 0 p x   # 1 d b 9 5 4 ;
               a n i m a t i o n :    p u l s e - o r b   2 s   e a s e - i n - o u t   i n f i n i t e ;
               z - i n d e x :    2 ;
       
}

         . o r b - r i n g    {
               p o s i t i o n :    a b s o l u t e ;
               w i d t h :    1 0 0 p x ;
               h e i g h t :    1 0 0 p x ;
               b o r d e r :    2 p x   s o l i d   r g b a ( 2 9 ,    1 8 5 ,    8 4 ,    0 . 3 ) ;
               b o r d e r - r a d i u s :    5 0 % ;
               t o p :    5 0 p x ;
               / *   C e n t e r   w i t h   o r b   * /             a n i m a t i o n :    s p i n - r i n g   4 s   l i n e a r   i n f i n i t e ;
       
}

         . o r b - r i n g : : b e f o r e    {
               c o n t e n t :    ' '  ;
               p o s i t i o n :    a b s o l u t e ;
               t o p :    - 5 p x ;
               l e f t :    5 0 % ;
               w i d t h :    1 0 p x ;
               h e i g h t :    1 0 p x ;
               b a c k g r o u n d :    v a r ( - - g r e e n ) ;
               b o r d e r - r a d i u s :    5 0 % ;
               b o x - s h a d o w :    0   0   1 0 p x   v a r ( - - g r e e n ) ;
       
}

         . l o a d i n g - t e x t    {
               m a r g i n - t o p :    4 0 p x ;
               f o n t - s i z e :    1 4 p x ;
               l e t t e r - s p a c i n g :    2 p x ;
               t e x t - t r a n s f o r m :    u p p e r c a s e ;
               c o l o r :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 8 ) ;
               t r a n s i t i o n :    o p a c i t y   0 . 5 s ;
               f o n t - w e i g h t :    6 0 0 ;
               t e x t - s h a d o w :    0   0   1 0 p x   r g b a ( 2 9 ,    1 8 5 ,    8 4 ,    0 . 5 ) ;
       
}

         @ k e y f r a m e s   p u l s e - o r b    {

                   0 % ,
               1 0 0 %    {
                         t r a n s f o r m :    s c a l e ( 1 ) ;
                         o p a c i t y :    1 ;
                 
  }

                   5 0 %    {
                         t r a n s f o r m :    s c a l e ( 1 . 1 ) ;
                         o p a c i t y :    0 . 8 ;
                 
  }

       
}

         @ k e y f r a m e s   s p i n - r i n g    {
               0 %    {
                         t r a n s f o r m :    r o t a t e ( 0 d e g ) ;
                 
  }

                   1 0 0 %    {
                         t r a n s f o r m :    r o t a t e ( 3 6 0 d e g ) ;
                 
  }

       
}

         / *   - - -   G L A S S M O R P H I S M   C A R D S   - - -   * /     . c a r d    {
               b a c k g r o u n d :    r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 0 5 )    ! i m p o r t a n t ;
               b a c k d r o p - f i l t e r :    b l u r ( 1 0 p x ) ;
               - w e b k i t - b a c k d r o p - f i l t e r :    b l u r ( 1 0 p x ) ;
               b o r d e r :    1 p x   s o l i d   r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 1 ) ;
               b o x - s h a d o w :    0   8 p x   3 2 p x   0   r g b a ( 0 ,    0 ,    0 ,    0 . 3 7 ) ;
       
}

         / *   - - -   M O D E R N   I N P U T S   - - -   * /     . m a g i c - t e x t a r e a    {
               b a c k g r o u n d :    r g b a ( 0 ,    0 ,    0 ,    0 . 2 )    ! i m p o r t a n t ;
               b o r d e r :    1 p x   s o l i d   r g b a ( 2 5 5 ,    2 5 5 ,    2 5 5 ,    0 . 1 )    ! i m p o r t a n t ;
               b a c k d r o p - f i l t e r :    b l u r ( 5 p x ) ;
               c o l o r :    w h i t e    ! i m p o r t a n t ;
       
}

         . m a g i c - t e x t a r e a : f o c u s    {
               b o r d e r - c o l o r :    v a r ( - - g r e e n )    ! i m p o r t a n t ;
               b o x - s h a d o w :    0   0   1 5 p x   r g b a ( 2 9 ,    1 8 5 ,    8 4 ,    0 . 2 ) ;
       
}

     
/* --- MODERN ORB LOADER --- */
.orb-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 200px;
  position: relative;
  margin-top: 30px;
}

.orb {
  width: 60px;
  height: 60px;
  background: radial-gradient(circle at 30% 30%, #4aff95, #1db954);
  border-radius: 50%;
  box-shadow: 0 0 30px #1db954, 0 0 60px #1db954;
  animation: pulse-orb 2s ease-in-out infinite;
  z-index: 2;
}

.orb-ring {
  position: absolute;
  width: 100px;
  height: 100px;
  border: 2px solid rgba(29, 185, 84, 0.3);
  border-radius: 50%;
  top: 50px; /* Center with orb */
  animation: spin-ring 4s linear infinite;
}

.orb-ring::before {
  content: "";
  position: absolute;
  top: -5px;
  left: 50%;
  width: 10px;
  height: 10px;
  background: var(--green);
  border-radius: 50%;
  box-shadow: 0 0 10px var(--green);
}

.loading-text {
  margin-top: 40px;
  font-size: 14px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.8);
  transition: opacity 0.5s;
  font-weight: 600;
  text-shadow: 0 0 10px rgba(29, 185, 84, 0.5);
}

@keyframes pulse-orb {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.1); opacity: 0.8; }
}

@keyframes spin-ring {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* --- GLASSMORPHISM CARDS --- */
.card {
  background: rgba(255, 255, 255, 0.05) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

/* --- MOOD CHIPS --- */
.mood-chips {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.mood-chip {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s;
}

.mood-chip:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.mood-chip.active {
  background: var(--green);
  color: black;
  font-weight: bold;
  box-shadow: 0 4px 12px rgba(29, 185, 84, 0.3);
  border-color: var(--green);
}

/* --- MODERN INPUTS --- */
.magic-textarea {
  background: rgba(0, 0, 0, 0.2) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(5px);
  color: white !important;
}

.magic-textarea:focus {
  border-color: var(--green) !important;
  box-shadow: 0 0 15px rgba(29, 185, 84, 0.2);
}

